<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join â€“ Kontakte</title>

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="css/global_Dora.css" />
    <link rel="stylesheet" href="css/navbar_header.css" />
    <link rel="stylesheet" href="css/contacts.css" />

    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
  </head>

  <body onload="loadContacts(); initStorage();" >
    <!-- HEADER (ist sticky und durchgehend oben) -->
    <header class="header-general">
      <p class="header-p">Kanban Project Management Tool</p>
      <img
        class="frame-3-icon-header"
        src="./assets/icons/join-logo-blue.svg"
        alt="Join Logo"
      />
      <div class="header-left">
        <a href="./help.html" class="help-icon">
          <img src="./assets/icons/help.svg" alt="Go to Help Site" />
        </a>
        <span
          class="header-icon light-blue"
          onclick="showSubMenu();preventBubbling(event)"
          >SM</span
        >
      </div>
      <div id="subMenu" class="subMenu dp-none"></div>
    </header>

   
    <nav class="frame-3">
      <img
        class="frame-3-icon"
        src="./assets/icons/join-main-logo.png"
        alt="Join Logo"
      />
      <div class="frame-3-menu">
        <a href="dashboard.html"
          ><div class="menu-btns">
            <img
              class="menu-icon"
              src="./assets/icons/icon-summary.png"
              alt="Summary"
            />
            <p>Summary</p>
          </div></a
        >
        <a href="add-task.html"
          ><div class="menu-btns">
            <img
              class="menu-icon"
              src="./assets/icons/icon-add-task.png"
              alt="Add Task"
            />
            <p>Add Task</p>
          </div></a
        >
        <a href="board.html"
          ><div class="menu-btns">
            <img
              class="menu-icon"
              src="./assets/icons/icon-board.png"
              alt="Board"
            />
            <p>Board</p>
          </div></a
        >
        <a href="contacts.html"
          ><div class="menu-btns">
            <img
              class="menu-icon"
              src="./assets/icons/icon-contacts.png"
              alt="Contacts"
            />
            <p>Contacts</p>
          </div></a
        >
      </div>
      <div class="frame-22">
        <a href="privacy-policy.html"
          ><p class="frame-22-btns">Privacy Policy</p></a
        >
        <a href="legal-notice.html"
          ><p class="frame-22-btns">Legal Notice</p></a
        >
      </div>
    </nav>

    
    <main class="contacts-main">
      
      <section class="contacts-left">
        <div class="contacts-header">
          <h2>Contacts</h2>
          <input
            type="text"
            oninput="filterContacts(event)"
            placeholder="Suche..."
            class="search-input"
          />
          <button class="add-contact-btn" onclick="openAddContact()">
            Add new contact
          </button>
        </div>
        <div id="contact-list" class="contact-list">
          <!-- Wird durch Firebase befÃ¼llt -->
        </div>
      </section>

      <!-- RECHTER BEREICH: Kontakt-Details -->
      <section class="contacts-right" id="contact-detail">
        <p>WÃ¤hlen Sie einen Kontakt aus</p>
      </section>
    </main>

    <!-- ðŸ”» OVERLAY: Kontakt hinzufÃ¼gen -->
    <div id="add-contact-overlay" class="overlay dp-none">
      <div class="overlay-content">
        <h2>Neuen Kontakt erstellen</h2>
        <form onsubmit="saveNewContact(event)">
          <input type="text" name="name" placeholder="Name" required />
          <input type="email" name="email" placeholder="E-Mail" required />
          <input type="tel" name="phone" placeholder="Telefonnummer" required />
          <input
            type="password"
            name="password"
            placeholder="Passwort (optional)"
          />
          <div class="form-buttons">
            <button type="submit" class="btn save">Speichern</button>
            <button
              type="button"
              class="btn cancel"
              onclick="closeAddContact()"
            >
              Abbrechen
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- === Overlay fÃ¼r Kontakt bearbeiten === -->
    <div class="overlay" id="edit-contact-overlay" style="display: none">
      <div class="overlay-content edit-overlay-content">
        <div class="edit-left">
          <img
            src="./assets/icons/join-main-logo.png"
            alt="Logo"
            class="edit-logo"
          />
          <h3>Edit contact</h3>
        </div>
        <div class="edit-right">
          <div class="edit-avatar" id="edit-avatar">XX</div>
          <input type="text" id="edit-name" placeholder="Name" />
          <input type="email" id="edit-email" placeholder="E-Mail" />
          <input type="tel" id="edit-phone" placeholder="Telefonnummer" />
          <div class="form-buttons">
            <button type="button" onclick="closeEditOverlay()">Delete</button>
            <button type="submit" onclick="saveEditedContact()">Save âœ“</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ðŸ”§ SCRIPTS -->
    <script src="js/contacts.js"></script>
  

  </body>
</html>
